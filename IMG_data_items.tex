\subsection{IMG mode data items}\label{ssec:img_drl_data_structures}
\subsubsection{Raw data item structures}\label{sssec:imgrawdatastructs}


\paragraph{\hyperref[dataitem:lm_image_raw]{\RAW{LM_IMAGE_RAW}}}\label{dataitem:lm_image_raw}

\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_image_raw]{\RAW{LM_IMAGE_RAW}}\\[0.3cm]
Description: & Raw exposure of the LM image mode.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_IMAGE_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_lm_cal_standard}\\
%           & \TPL{METIS_img_lm_*_obs_*}       \\
          & \TPL{METIS_img_lm_obs_AutoJitter} \\
          & \TPL{METIS_img_lm_obs_GenericOffset} \\
          & \TPL{METIS_img_lm_obs_FixedSkyOffset} \\
          & \TPL{METIS_img_lmn_obs_AutoChopNod} \\
          & \TPL{METIS_img_lmn_obs_GenericChopNod} \\
Input for recipe: & \hyperref[rec:metis_lm_img_basic_reduce]{\REC{metis_lm_img_basic_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:n_image_raw]{\RAW{N_IMAGE_RAW}}}\label{dataitem:n_image_raw}

\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_image_raw]{\RAW{N_IMAGE_RAW}}\\[0.3cm]
Description: & Raw exposure of the N image mode.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_IMAGE_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_n_cal_standard}\\
                     & \TPL{METIS_img_n_obs_AutoChopNod}                            \\
                     & \TPL{METIS_img_n_obs_GenericChopNod}                         \\
                     & \TPL{METIS_img_n_cvc_obs_AutoChop}                           \\
                     & \TPL{METIS_img_n_cal_psf}                                    \\
                     & \TPL{METIS_img_lmn_obs_AutoChopNod} \\
                     & \TPL{METIS_img_lmn_obs_GenericChopNod} \\
Input for recipe: & \hyperref[rec:metis_n_img_chopnod]{\REC{metis_n_img_chopnod}} \\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:detlin_det_raw]{\RAW{DETLIN_det_RAW}}}\label{dataitem:detlin_det_raw}
\label{dataitem:detlin_lm_raw}\label{dataitem:detlin_n_raw}\label{dataitem:detlin_ifu_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:detlin_det_raw]{\RAW{DETLIN_det_RAW}}\\[0.3cm]
Description: & Raw data for non-linearity determination.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMAGE,det}\\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DETLIN}\\
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}} \\
\FITS{DO.CATG}: & \FITS{DETLIN_RAW}\\[0.3cm]
Templates:           & \TPL{METIS_img_lm_cal_DetLin}                                                       \\
                       & \TPL{METIS_img_n_cal_DetLin}                                                        \\
                       & \TPL{METIS_ifu_cal_DetLin}                                                          \\
Input for recipe: & \hyperref[rec:metis_det_lingain]{\REC{metis_det_lingain}}\\

Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}

    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}

\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:dark_det_raw]{\RAW{DARK_det_RAW}}}\label{dataitem:dark_det_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:dark_det_raw]{\RAW{DARK_det_RAW}}\\[0.3cm]
Description: & Raw data for creating a master dark.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMAGE,det}\\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DARK,det}\\
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}, \hyperref[fits:det.id]{\FITS{DET.ID}}, \hyperref[fits:det.dit]{\FITS{DET.DIT}}  \\
\FITS{DO.CATG}: & \FITS{DARK}\\[0.3cm]
Templates:           & \TPL{METIS_gen_cal_dark}                                                       \\
Input for recipe: & \hyperref[rec:metis_det_dark]{\REC{metis_det_dark}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}

    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}

\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:det_wcu_off_raw]{\RAW{det_WCU_OFF_RAW}}}\label{dataitem:det_wcu_off_raw}\label{dataitem:n_wcu_off_raw}\label{dataitem:lm_wcu_off_raw}\label{dataitem:2rg_wcu_off_raw}\label{dataitem:geo_wcu_off_raw}\label{dataitem:ifu_wcu_off_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:det_wcu_off_raw]{\RAW{det_WCU_OFF_RAW}}\\[0.3cm]
Description: & Raw data for dark subtraction in other recipes.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMAGE,det}\\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DARK,WCUOFF}\\
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}} \\
\FITS{DO.CATG}: & \FITS{det_WCU_OFF_RAW}\\[0.3cm]
Templates:           & \TPL{METIS_img_lm_cal_DetLin}                                                       \\
                       & \TPL{METIS_img_n_cal_DetLin}                                                        \\
                       & \TPL{METIS_ifu_cal_DetLin}                                                          \\
%                     & \TODO{Many more} \\
Input for recipe: & \hyperref[rec:metis_det_lingain]{\REC{metis_det_lingain}}\\
%                   & \TODO{Many more} \\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti12.name]{\FITS{INS.OPTI12.NAME}}, \hyperref[fits:ins.opti13.name]{\FITS{INS.OPTI13.NAME}})}
    \item \texttt{hdrl\_image * image: image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}



% ##################################################################################### N RSRF RAW
\paragraph{\hyperref[dataitem:lm_flat_raw]{\RAW{LM_FLAT_RAW}}}\label{dataitem:lm_flat_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_flat_raw]{\RAW{LM_FLAT_RAW}}\\[0.3cm]
Description: & Flat field image taken with lamp or sky. \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{LM} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{FLAT,LAMP} or \FITS{FLAT,TWILIGHT} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti12.name]{\FITS{INS.OPTI12.NAME}}, \hyperref[fits:ins.opti13.name]{\FITS{INS.OPTI13.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_FLAT_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_lm_cal_InternalFlat}\\
                       & \TPL{METIS_img_lm_cal_TwilightFlat}                               \\
Input for recipe: & \hyperref[rec:metis_lm_img_flat]{\REC{metis_lm_img_flat}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti12.name]{\FITS{INS.OPTI12.NAME}}, \hyperref[fits:ins.opti13.name]{\FITS{INS.OPTI13.NAME}})}
    \item \texttt{hdrl\_image ** image: Four images}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


% #####################################################################################
\paragraph{\hyperref[dataitem:n_flat_raw]{\RAW{N_FLAT_RAW}}}\label{dataitem:n_flat_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_flat_raw]{\RAW{N_FLAT_RAW}}\\[0.3cm]
Description: & Flat field image taken with lamp or sky. \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{N} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{FLAT,LAMP} or \FITS{FLAT,TWILIGHT} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti12.name]{\FITS{INS.OPTI12.NAME}}, \hyperref[fits:ins.opti13.name]{\FITS{INS.OPTI13.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_FLAT_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_n_cal_InternalFlat}\\
                       & \TPL{METIS_img_n_cal_TwilightFlat}                               \\
Input for recipe: & \hyperref[rec:metis_n_img_flat]{\REC{metis_n_img_flat}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti12.name]{\FITS{INS.OPTI12.NAME}}, \hyperref[fits:ins.opti13.name]{\FITS{INS.OPTI13.NAME}})}
    \item \texttt{hdrl\_image * image: Singe image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

% #####################################################################################
\paragraph{\hyperref[dataitem:lm_distortion_raw]{\RAW{LM_DISTORTION_RAW}}}\label{dataitem:lm_distortion_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_distortion_raw]{\RAW{LM_DISTORTION_RAW}}\\[0.3cm]
Description: & Images of grid mask in WCU-FP2 or CFO-FP2.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{LM} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DISTORTION} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_DISTORTION_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_lm_cal_distortion}\\
Input for recipe: & \hyperref[rec:metis_lm_img_distortion]{\REC{metis_lm_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

% #####################################################################################
\paragraph{\hyperref[dataitem:n_distortion_raw]{\RAW{N_DISTORTION_RAW}}}\label{dataitem:n_distortion_raw}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_distortion_raw]{\RAW{N_DISTORTION_RAW}}\\[0.3cm]
Description: & Images of grid mask in WCU-FP2 or CFO-FP2.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{N} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DISTORTION} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_DISTORTION_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_n_cal_distortion}\\
Input for recipe: & \hyperref[rec:metis_n_img_distortion]{\REC{metis_n_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:lm_pupil_raw]{\RAW{LM_PUPIL_RAW}}}\label{dataitem:lm_pupil_raw}

\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_pupil_raw]{\RAW{LM_PUPIL_RAW}}\\[0.3cm]
Description: & Raw exposure of the pupil in LM image mode.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{TECHNICAL}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{PUP} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_PUPIL_RAW}\\[0.3cm]
Template: & \TPL{METIS_pup_lm}\\
Input for recipe: & \hyperref[rec:metis_pupil_imaging]{\REC{metis_pupil_imaging}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:n_pupil_raw]{\RAW{N_PUPIL_RAW}}}\label{dataitem:n_pupil_raw}

\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_pupil_raw]{\RAW{N_PUPIL_RAW}}\\[0.3cm]
Description: & Raw exposure of the the pupil in N image mode.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{TECHNICAL}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{PUP} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_PUPIL_RAW}\\[0.3cm]
Template: & \TPL{METIS_pup_n}\\
Input for recipe: & \hyperref[rec:metis_pupil_imaging]{\REC{metis_pupil_imaging}} \\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}








\subsubsection{External calibration data item structures}\label{sssec:imgextcalibdatastructs}


\paragraph{\hyperref[dataitem:lm_detector_mask]{\EXTCALIB{LM_DETECTOR_MASK}}}\label{dataitem:lm_detector_mask}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_detector_mask]{\EXTCALIB{LM_DETECTOR_MASK}}\\[0.3cm]
Description: & Masked region for LM detector \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{DPR.CATG}}: & \FITS{LM_DETECTOR_MASK}\\
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_DETECTOR_MASK}\\[0.3cm]
Input for recipes: & \hyperref[rec:metis_lm_img_basic_reduce]{\REC{metis_lm_img_basic_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}




\paragraph{\hyperref[dataitem:fluxstd_catalog]{\EXTCALIB{FLUXSTD_CATALOG}}}\label{dataitem:fluxstd_catalog}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:fluxstd_catalog]{\EXTCALIB{FLUXSTD_CATALOG}}\\[0.3cm]
Description: & Catalog of standard stars \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{DPR.CATG}}: & \FITS{FLUXSTD_CATALOG}\\
OCA keywords: & None \\
\FITS{DO.CATG}: & \FITS{FLUXSTD_CATALOG}\\[0.3cm]
Input for recipes: & \hyperref[rec:metis_lm_img_std_process]{\REC{metis_lm_img_std_process}}\\
\end{recipedef}
% \begin{datastructdef}
% \textbf{Corresponding \ac{CPL} structure:}
% \begin{enumerate}
%     \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
%     \item \texttt{hdrl\_image * image: Single image}
%     \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
% \end{enumerate}
% \end{datastructdef}













%\clearpage
\subsubsection{Master calibration / intermediate data item structures}\label{sssec:imgprocdatastructs}
\label{dataitem:masterdark}

\paragraph{\hyperref[dataitem:master_dark_det]{\PROD{MASTER_DARK_det}}}\label{dataitem:master_dark_det}
Depending on context, a \hyperref[dataitem:master_dark_det]{\PROD{MASTER_DARK_det}} can refer to either a
\begin{enumerate}
\item \hyperref[dataitem:master_dark_geo]{\PROD{MASTER_DARK_GEO}}
\item \hyperref[dataitem:master_dark_2rg]{\PROD{MASTER_DARK_2RG}}
\item \hyperref[dataitem:master_dark_ifu]{\PROD{MASTER_DARK_IFU}}
\end{enumerate}

\paragraph{\hyperref[dataitem:master_dark_2rg]{\PROD{MASTER_DARK_2RG}}}\label{dataitem:master_dark_2rg}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:master_dark_2rg]{\PROD{MASTER_DARK_2RG}}\\[0.3cm]
Description: & Master dark frame for LM detector data \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{LM} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DARK,??} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{MASTER_DARK_LM}\\[0.3cm]
Template: & \TPL{METIS_gen_cal_dark},  \TPL{METIS_gen_cal_Insdark}\\
Created by:  \hyperref[drl:det_dark]{\REC{metis_det_dark}} \\
Input for recipes: & \hyperref[rec:metis_lm_img_flat]{\REC{metis_lm_img_flat}}\\
& \hyperref[rec:metis_lm_img_basic_reduce]{\REC{metis_lm_img_basic_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:master_dark_ifu]{\PROD{MASTER_DARK_IFU}}}\label{dataitem:master_dark_ifu}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:master_dark_ifu]{\PROD{MASTER_DARK_IFU}}\\[0.3cm]
Description: & Master dark frame for IFU detector data \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IFU} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DARK,??} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{MASTER_DARK_IFU}\\[0.3cm]
Template: & \TPL{METIS_gen_cal_dark},  \TPL{METIS_gen_cal_Insdark}\\
Created by:  \hyperref[drl:det_dark]{\REC{metis_det_dark}} \\
Input for recipes: & \hyperref[rec:metis_ifu_rsrf]{\REC{metis_ifu_rsrf}}\\
& \hyperref[rec:metis_ifu_wavecal]{\REC{metis_ifu_wavecal}}\\
& \hyperref[rec:metis_ifu_std_process]{\REC{metis_ifu_std_process}}\\
& \hyperref[rec:metis_ifu_sci_process]{\REC{metis_ifu_sci_process}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:master_dark_geo]{\PROD{MASTER_DARK_GEO}}}\label{dataitem:master_dark_geo}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:master_dark_geo]{\PROD{MASTER_DARK_GEO}}\\[0.3cm]
Description: & Master dark frame for N detector data \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{N} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{DARK,??} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{MASTER_DARK_N}\\[0.3cm]
Template: & \TPL{METIS_gen_cal_dark},  \TPL{METIS_gen_cal_Insdark}\\
Created by:  \hyperref[drl:det_dark]{\REC{metis_det_dark}} \\
Input for recipes: & \hyperref[rec:metis_n_img_flat]{\REC{metis_n_img_flat}}\\
% The n-band does not have a basic_reduce recipe (according to the association map)
% & \hyperref[]{\CODE{metis_n_img_basic_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:master_img_flat_lm]{\PROD{MASTER_IMG_FLAT_LM}}}\label{dataitem:master_img_flat_lm}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:master_img_flat_lm]{\PROD{MASTER_IMG_FLAT_LM}}\\[0.3cm]
Description: & Master flat frame for LM image data \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{LM} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{FLAT,??} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{MASTER_IMG_FLAT_LM}\\[0.3cm]
Template: & \TPL{METIS_lm_img_flat}\\
Created by: & \hyperref[drl:lm_img_flat]{\REC{metis_lm_img_flat}} \\
Input for recipes: & \hyperref[rec:metis_det_lingain]{\REC{metis_det_lingain}}\\
 & \hyperref[rec:metis_lm_img_basic_reduce]{\REC{metis_lm_img_basic_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:master_img_flat_n]{\PROD{MASTER_IMG_FLAT_N}}}\label{dataitem:master_img_flat_n}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:master_img_flat_n]{\PROD{MASTER_IMG_FLAT_N}}\\[0.3cm]
Description: & Master flat frame for N image data \\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{N} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{FLAT,??} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{MASTER_FLAT_IMG_N}\\[0.3cm]
Template: & \TPL{METIS_n_img_flat}\\
Created by:  \hyperref[drl:n_img_flat]{\REC{metis_n_img_flat}} \\
Input for recipes: & \hyperref[rec:metis_det_lingain]{\REC{metis_det_lingain}}\\
% The n-band does not have a basic_reduce recipe (according to the association map)
% & \hyperref[rec:metis_n_basic_image_reduce]{\CODE{metis_n_basic_image_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:n_master_flat]{\PROD{N_MASTER_FLAT}}}\label{drsstructure:N_MASTER_FLAT}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:badpix_map_det]{\PROD{BADPIX_MAP_det}}}\label{dataitem:badpix_map_det}\label{dataitem:badpixmap}

\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:badpix_map_det]{\PROD{BADPIX_MAP_det}}\\[0.3cm]
Description: & Bad pixel map\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{BADPIX_MAP_det}\\
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}} \\
\FITS{DO.CATG}: & \FITS{BADPIX_MAP_det}\\[0.3cm]
Created by recipe: & \hyperref[rec:metis_det_lingain]{\REC{metis_det_lingain}} \\
                  & \hyperref[rec:metis_ifu_rsrf]{\REC{metis_ifu_rsrf}} \\
                  & \hyperref[rec:metis_det_dark]{\REC{metis_det_dark}} \\
                  & \hyperref[rec:metis_lm_img_flat]{\REC{metis_lm_img_flat}} \\
                  & \hyperref[rec:metis_n_img_flat]{\REC{metis_n_img_flat}} \\
Input for recipe: & \hyperref[rec:metis_lm_img_flat]{\REC{metis_lm_img_flat}} \\
                  & \hyperref[rec:metis_lm_img_sci_postprocess]{\REC{metis_lm_img_sci_postprocess}} \\
                  & \hyperref[rec:metis_lm_img_distortion]{\REC{metis_lm_img_distortion}} \\
                  & \hyperref[rec:metis_n_img_flat]{\REC{metis_n_img_flat}} \\
                  & \hyperref[rec:metis_n_img_chopnod]{\REC{metis_n_img_chopnod}} \\
                  & \hyperref[rec:metis_n_img_distortion]{\REC{metis_n_img_distortion}} \\
                  & \hyperref[rec:metis_lm_lss_rsrf]{\REC{metis_LM_lss_rsrf}} \\
                  & \hyperref[rec:metis_lm_lss_trace]{\REC{metis_LM_lss_trace}} \\
                  & \hyperref[rec:metis_lm_lss_wave]{\REC{metis_LM_lss_wave}} \\
                  & \hyperref[rec:metis_lm_lss_std]{\REC{metis_LM_lss_std}} \\
                  & \hyperref[rec:metis_lm_lss_sci]{\REC{metis_LM_lss_sci}} \\
                  & \hyperref[rec:metis_n_lss_trace]{\REC{metis_N_lss_trace}} \\
                  & \hyperref[rec:metis_n_lss_std]{\REC{metis_N_lss_std}} \\
                  & \hyperref[rec:metis_n_lss_sci]{\REC{metis_N_lss_sci}} \\
                  & \hyperref[rec:metis_ifu_wavecal]{\REC{metis_ifu_wavecal}} \\
                  & \hyperref[rec:metis_ifu_rsrf]{\REC{metis_ifu_rsrf}} \\
                  & \hyperref[rec:metis_ifu_std_process]{\REC{metis_ifu_std_process}} \\
                  & \hyperref[rec:metis_ifu_sci_process]{\REC{metis_ifu_sci_process}} \\
                  & \hyperref[rec:metis_img_chophome]{\REC{metis_img_chophome}} \\
                  & \hyperref[rec:metis_lm_adc_slitloss]{\REC{metis_lm_adc_slitloss}} \\
                  & \hyperref[rec:metis_n_adc_slitloss]{\REC{metis_n_adc_slitloss}} \\
                  & \hyperref[rec:metis_lm_img_flat]{\REC{metis_lm_img_flat}} \\
                  & \hyperref[rec:metis_n_img_flat]{\REC{metis_n_img_flat}} \\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
 \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}}
    \item \texttt{cpl\_image ** image: one image per detector with only the data quality layer in use}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:badpix_map_2rg]{\PROD{BADPIX_MAP_2RG}}}\label{dataitem:badpix_map_2rg}
See \hyperref[dataitem:badpix_map_det]{\PROD{BADPIX_MAP_det}}.

\paragraph{\hyperref[dataitem:badpix_map_geo]{\PROD{BADPIX_MAP_GEO}}}\label{dataitem:badpix_map_geo}
See \hyperref[dataitem:badpix_map_det]{\PROD{BADPIX_MAP_det}}.

\paragraph{\hyperref[dataitem:badpix_map_ifu]{\PROD{BADPIX_MAP_IFU}}}\label{dataitem:badpix_map_ifu}
See \hyperref[dataitem:badpix_map_det]{\PROD{BADPIX_MAP_det}}.

\paragraph{\hyperref[dataitem:linearity_det]{\PROD{LINEARITY_det}}}\label{dataitem:linearity_det}\label{dataitem:linearity}\label{dataitem:linearity_lm}\label{dataitem:linearity_ifu}\label{dataitem:linearity_n}\label{dataitem:linearity_2rg}\label{dataitem:linearity_geo}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:linearity_det]{\PROD{LINEARITY_det}}\\[0.3cm]
Description: & Coefficients for the pixel non-linearity correction\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LINEARY}\\
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}} \\
\FITS{DO.CATG}: & \FITS{LINEARITY}\\[0.3cm]
Created by recipe: & \hyperref[rec:metis_det_lingain]{\REC{metis_det_lingain}} \\
Input for recipe: & \hyperref[rec:metis_n_img_flat]{\REC{metis_n_img_flat}}\\
& \hyperref[rec:metis_n_img_chopnod]{\REC{metis_n_img_chopnod}}\\
 & \hyperref[rec:metis_lm_img_flat]{\REC{metis_lm_img_flat}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}}
    \item \texttt{hdrl\_image ** image: list of images with coefficients for the non-linearity correction}
    \item \texttt{cpl\_propertylist ** plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


%\clearpage
\paragraph{\hyperref[dataitem:lm_sci_basic_reduced]{\PROD{LM_SCI_BASIC_REDUCED}}}\label{dataitem:lm_sci_basic_reduced}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_sci_basic_reduced]{\PROD{LM_SCI_BASIC_REDUCED}}\\[0.3cm]
Description: & Science grade detrended exposure of the LM image mode.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_SCI_BASIC_REDUCED} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_SCI_BASIC_REDUCED}\\[0.3cm]
% TODO: Is there a calibration recipe?
Input for recipe: & \\
Produced by recipe: & \hyperref[rec:metis_lm_img_basic_reduce]{\REC{metis_lm_img_basic_reduce}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:lm_std_basic_reduced]{\PROD{LM_STD_BASIC_REDUCED}}}\label{dataitem:lm_std_basic_reduced}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_std_basic_reduced]{\PROD{LM_STD_BASIC_REDUCED}}\\[0.3cm]
Description: & Standard detrended exposure of the LM image mode.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_STD_BASIC_REDUCED}\\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_STD_BASIC_REDUCED}\\[0.3cm]
Produced by recipe: & \hyperref[rec:metis_lm_img_basic_reduce]{\REC{metis_lm_img_basic_reduce}}\\
Input for recipe: & \\ % TODO
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:lm_sci_bkg]{\PROD{LM_SCI_BKG}}}\label{dataitem:lm_sci_bkg}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_sci_bkg]{\PROD{LM_SCI_BKG}}\\[0.3cm]
Description: & Thermal background of science LM exposures.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_SCI_BKG}\\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_SCI_BKG}\\[0.3cm]
Produced by recipe: & \hyperref[rec:metis_lm_img_background]{\REC{metis_lm_img_background}}\\
Input for recipe: & \\ % TODO
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:lm_std_bkg]{\PROD{LM_STD_BKG}}}\label{dataitem:lm_std_bkg}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_std_bkg]{\PROD{LM_STD_BKG}}\\[0.3cm]
Description: & Thermal background of standard LM exposures.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_STD_BKG}\\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_STD_BKG}\\[0.3cm]
Input for recipe: & \hyperref[rec:metis_lm_img_background]{\REC{metis_lm_img_background}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}


\paragraph{\hyperref[dataitem:lm_sci_bkg_subtracted]{\PROD{LM_SCI_BKG_SUBTRACTED}}}\label{dataitem:lm_sci_bkg_subtracted}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_sci_bkg_subtracted]{\PROD{LM_SCI_BKG_SUBTRACTED}}\\[0.3cm]
Description: & Thermal background subtracted images of science LM exposures.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{CALIB}\\
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_SCI_BKG_SUBTRACTED}\\[0.3cm]
% Template: & \TPL{METIS_img_lm_cal_standard}\\
%             & \TPL{METIS_img_lm_*_obs_*}       \\
Input for recipe: & \hyperref[rec:metis_lm_img_background]{\REC{metis_lm_img_background}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    


\paragraph{\hyperref[dataitem:lm_std_bkg_subtracted]{\PROD{LM_STD_BKG_SUBTRACTED}}}\label{dataitem:lm_std_bkg_subtracted}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_std_bkg_subtracted]{\PROD{LM_STD_BKG_SUBTRACTED}}\\[0.3cm]
Description: & Thermal background subtracted images of standard LM exposures.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_STD_BKG_SUBTRACTED}\\
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_STD_BKG_SUBTRACTED}\\[0.3cm]
% Template: & \TPL{METIS_img_lm_cal_standard}\\
%             & \TPL{METIS_img_lm_*_obs_*}       \\
Produced by recipe: & \hyperref[rec:metis_lm_img_background]{\REC{metis_lm_img_background}}\\
% Input for recipe: & \hyperref[rec:rec]{\CODE{rec:lm_img_astrometry_calib}}\\
Input for recipe: & None\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    


\paragraph{\hyperref[dataitem:n_sci_bkg_subtracted]{\PROD{N_SCI_BKG_SUBTRACTED}}}\label{dataitem:n_sci_bkg_subtracted}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_sci_bkg_subtracted]{\PROD{N_SCI_BKG_SUBTRACTED}}\\[0.3cm]
Description: & Thermal background subtracted images of science N exposures.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{N_SCI_BKG_SUBTRACTED}\\
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_SCI_BKG_SUBTRACTED}\\[0.3cm]
% Template: & \TPL{METIS_img_n_cal_standard}\\
%             & \TPL{METIS_img_n_*_obs_*}       \\
Produced by recipe: & \hyperref[rec:metis_n_img_chopnod]{\REC{metis_n_img_chopnod}} \\
Input for recipe: & \hyperref[rec:metis_n_img_calibrate]{\REC{metis_n_img_calibrate}} \\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}



\paragraph{\hyperref[dataitem:n_std_bkg_subtracted]{\PROD{N_STD_BKG_SUBTRACTED}}}\label{dataitem:n_std_bkg_subtracted}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_std_bkg_subtracted]{\PROD{N_STD_BKG_SUBTRACTED}}\\[0.3cm]
Description: & Thermal background subtracted images of standard N exposures.\\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{N_STD_BKG_SUBTRACTED}\\
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_STD_BKG_SUBTRACTED}\\[0.3cm]
% Template: & \TPL{METIS_img_n_cal_standard}\\
%             & \TPL{METIS_img_n_*_obs_*}       \\
Produced by recipe: & \hyperref[rec:metis_n_img_chopnod]{\REC{metis_n_img_chopnod}} \\
Input for recipe: & \hyperref[rec:metis_n_img_std_process]{\REC{metis_n_img_std_process}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:n_rsrf_raw]{\PROD{N_RSRF_RAW}}}\label{drsstructure:N_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    
    


\paragraph{\hyperref[dataitem:lm_std_object_cat]{\RAW{LM_STD_OBJECT_CAT}}}\label{dataitem:lm_std_object_cat}
\begin{recipedef}
\textbf{\ac{FITS} TABLE file structure:}\\
Name: & \hyperref[dataitem:lm_std_object_cat]{\RAW{LM_STD_OBJECT_CAT}}\\[0.3cm]
Description: & Catalog of masked objects in standard LM exposures.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_LSS_RSRF_RAW}\\[0.3cm]
% Template: & \TPL{METIS_img_lm_cal_standard}\\_*_
%             & \TPL{METIS_img_lm_*_obs_*}       \\
Input for recipe: & \hyperref[rec:metis_lm_img_background]{\REC{metis_lm_img_background}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    


\paragraph{\hyperref[dataitem:lm_sci_object_cat]{\RAW{LM_SCI_OBJECT_CAT}}}\label{dataitem:lm_sci_object_cat}
\begin{recipedef}
\textbf{\ac{FITS} TABLE file structure:}\\
Name: & \hyperref[dataitem:lm_sci_object_cat]{\RAW{LM_SCI_OBJECT_CAT}}\\[0.3cm]
Description: & Catalog of masked objects in science LM exposures.\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_LSS_RSRF_RAW}\\[0.3cm]
% Template: & \TPL{METIS_img_lm_cal_standard}\\
%             & \TPL{METIS_img_lm_*_obs_*}       \\
Input for recipe: & \hyperref[rec:metis_lm_img_background]{\REC{metis_lm_img_background}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    
    

\paragraph{\hyperref[dataitem:lm_sci_calibrated]{\RAW{LM_SCI_CALIBRATED}}}\label{dataitem:lm_sci_calibrated}

\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_sci_calibrated]{\RAW{LM_SCI_CALIBRATED}}\\[0.3cm]
Description: & LM band image with flux calibration, WC coordinate system and distorion information\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_LSS_RSRF_RAW}\\[0.3cm]
% Template: & \TPL{METIS_img_lm_cal_standard}\\
%             & \TPL{METIS_img_lm_*_obs_*}       \\
Input for recipe: & \hyperref[rec:metis_lm_img_std_process]{\REC{metis_lm_img_std_process}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:lm_sci_calibrated]{\PROD{LM_SCI_CALIBRATED}}}\label{drsstructure:LM_SCI_CALIBRATED}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    
    
\paragraph{\hyperref[dataitem:n_sci_calibrated]{\RAW{N_SCI_CALIBRATED}}}\label{dataitem:n_sci_calibrated}


\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_sci_calibrated]{\PROD{N_SCI_CALIBRATED}}\\[0.3cm]
Description: & N band image with flux calibration and distorion information\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
% Template: & \TPL{METIS_img_n_cal_standard}\\
%             & \TPL{METIS_img_n_*_obs_*}       \\
Input for recipe: & \hyperref[rec:metis_n_img_std_process]{\REC{metis_n_img_std_process}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:n_sci_calibrated]{\PROD{N_SCI_CALIBRATED}}}\label{drsstructure:N_SCI_CALIBRATED}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    


\paragraph{\hyperref[dataitem:lm_sci_coadd]{\PROD{LM_SCI_COADD}}}\label{dataitem:lm_sci_coadd}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_sci_coadd]{\PROD{LM_SCI_COADD}}\\[0.3cm]
Description: & Coadded, mosaiced LM image. \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_SCI_COADD} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}}\\
\FITS{DO.CATG}: & \FITS{LM_SCI_COADD}\\[0.3cm]
Input for recipe: & None \\
Produced by recipe: & \hyperref[rec:metis_lm_img_sci_postprocess]{\REC{metis_lm_img_sci_postprocess}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:n_sci_restored]{\PROD{N_SCI_RESTORED}}}\label{dataitem:n_sci_restored}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_sci_restored]{\PROD{N_SCI_RESTORED}}\\[0.3cm]
Description: & N band image with a single positive beam restored from chop-nod image\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
% Template: & \TPL{METIS_img_n_cal_standard}\\
%             & \TPL{METIS_img_n_*_obs_*}       \\
Input for recipe: & \hyperref[rec:metis_n_img_restore]{\REC{metis_n_img_restore}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:n_sci_restored]{\PROD{N_SCI_RESTORED}}}\label{drsstructure:N_SCI_RESTORED}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    

\paragraph{\hyperref[dataitem:det_distortion_table]{\PROD{det_DISTORTION_TABLE}}}\label{dataitem:det_distortion_table}
Depending on context, a \hyperref[dataitem:det_distortion_table]{\PROD{det_DISTORTION_TABLE}} can refer to either a
\begin{enumerate}
\item \hyperref[dataitem:n_distortion_table]{\PROD{N_DISTORTION_TABLE}}
\item \hyperref[dataitem:lm_distortion_table]{\PROD{LM_DISTORTION_TABLE}}
\item \hyperref[dataitem:ifu_distortion_table]{\PROD{IFU_DISTORTION_TABLE}}
\end{enumerate}

\paragraph{\hyperref[dataitem:lm_distortion_table]{\PROD{LM_DISTORTION_TABLE}}}\label{dataitem:lm_distortion_table}

\begin{recipedef}
\textbf{\ac{FITS} TABLE file structure:}\\
Name: & \hyperref[dataitem:lm_distortion_table]{\RAW{LM_DISTORTION_TABLE}}\\[0.3cm]
Description: & Table of distortion information\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{LM_LSS_RSRF_RAW}\\[0.3cm]
Template: & \TPL{??}\\
Input for recipe: & \hyperref[rec:metis_lm_img_calibrate]{\REC{metis_lm_img_calibrate}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:lm_distortion_table]{\PROD{LM_DISTORTION_TABLE}}}\label{drsstructure:LM_DISTORTION_TABLE}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{??}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    

\paragraph{\hyperref[dataitem:n_distortion_table]{\PROD{N_DISTORTION_TABLE}}}\label{dataitem:n_distortion_table}

\begin{recipedef}
\textbf{\ac{FITS} TABLE file structure:}\\
Name: & \hyperref[dataitem:n_distortion_table]{\PROD{N_DISTORTION_TABLE}}\\[0.3cm]
Description: & Table of distortion information\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
Template: & \TPL{??}\\
Input for recipe: & \hyperref[rec:metis_lm_img_calibrate]{\REC{metis_lm_img_calibrate}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:n_distortion_table]{\PROD{N_DISTORTION_TABLE}}}\label{drsstructure:N_DISTORTION_TABLE}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{??}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    

\paragraph{\hyperref[dataitem:det_distortion_map]{\PROD{det_DISTORTION_MAP}}}\label{dataitem:det_distortion_map}
Depending on context, a \hyperref[dataitem:det_distortion_map]{\PROD{det_DISTORTION_MAP}} can refer to either a
\begin{enumerate}
\item \hyperref[dataitem:n_distortion_map]{\PROD{N_DISTORTION_MAP}}
\item \hyperref[dataitem:lm_distortion_map]{\PROD{LM_DISTORTION_MAP}}
% \item \hyperref[dataitem:ifu_distortion_map]{\PROD{ifu_distortion_map}}
\end{enumerate}


\paragraph{\hyperref[dataitem:lm_distortion_map]{\PROD{LM_DISTORTION_MAP}}}\label{dataitem:lm_distortion_map}

\begin{recipedef}
\textbf{\ac{FITS} IMAGE file structure:}\\
Name: & \hyperref[dataitem:lm_distortion_map]{\PROD{LM_DISTORTION_MAP}}\\[0.3cm]
Description: & Map of pixel scale across the detector\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_lm_cal_distortion}\\
Input for recipe: & \hyperref[rec:metis_lm_img_distortion]{\REC{metis_lm_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:lm_distortion_map]{\PROD{LM_DISTORTION_MAP}}}\label{drsstructure:LM_DISTORTION_MAP}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{??}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    



\paragraph{\hyperref[dataitem:n_distortion_map]{\PROD{N_DISTORTION_MAP}}}\label{dataitem:n_distortion_map}

\begin{recipedef}
\textbf{\ac{FITS} IMAGE file structure:}\\
Name: & \hyperref[dataitem:n_distortion_map]{\PROD{N_DISTORTION_MAP}}\\[0.3cm]
Description: & Map of pixel scale across the detector\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_n_cal_distortion}\\
Input for recipe: & \hyperref[rec:metis_n_img_distortion]{\REC{metis_n_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:n_distortion_map]{\PROD{N_DISTORTION_MAP}}}\label{drsstructure:N_DISTORTION_MAP}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{??}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    


\paragraph{\hyperref[dataitem:det_dist_reduced]{\PROD{det_DIST_REDUCED}}}\label{dataitem:det_dist_reduced}
Depending on context, a \hyperref[dataitem:det_dist_reduced]{\PROD{det_DIST_REDUCED}} can refer to either a
\begin{enumerate}
\item \hyperref[dataitem:n_dist_reduced]{\PROD{N_DIST_REDUCED}}
\item \hyperref[dataitem:lm_dist_reduced]{\PROD{LM_DIST_REDUCED}}
% \item \hyperref[dataitem:ifu_dist_reduced]{\PROD{IFU_DIST_REDUCED}}
\end{enumerate}


\paragraph{\hyperref[dataitem:lm_dist_reduced]{\PROD{LM_DIST_REDUCED}}}\label{dataitem:lm_dist_reduced}

\begin{recipedef}
\textbf{\ac{FITS} TABLE file structure:}\\
Name: & \hyperref[dataitem:lm_dist_reduced]{\PROD{LM_DIST_REDUCED}}\\[0.3cm]
Description: & Table of polynomial coefficients for distortion correction\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_lm_cal_distortion}\\
Input for recipe: & \hyperref[rec:metis_lm_img_distortion]{\REC{metis_lm_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:lm_dist_reduced]{\PROD{LM_DIST_REDUCED}}}\label{drsstructure:LM_DIST_REDUCED}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{??}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    




\paragraph{\hyperref[dataitem:n_dist_reduced]{\PROD{N_DIST_REDUCED}}}\label{dataitem:n_dist_reduced}

\begin{recipedef}
\textbf{\ac{FITS} TABLE file structure:}\\
Name: & \hyperref[dataitem:n_dist_reduced]{\PROD{N_DIST_REDUCED}}\\[0.3cm]
Description: & Table of polynomial coefficients for distortion correction\\[0.3cm]
\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}}: & \FITS{CALIB}\\
\hyperref[fits:dpr.tech]{\FITS{DPR.TECH}}: & \FITS{IMG} \\
\hyperref[fits:dpr.type]{\FITS{DPR.TYPE}}: & \FITS{RAW} \\[0.3cm]
OCA keywords: & \hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_LSS_RSRF_RAW}\\[0.3cm]
Template: & \TPL{METIS_img_n_cal_distortion}\\
Input for recipe: & \hyperref[rec:metis_n_img_distortion]{\REC{metis_n_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:nrsrfraw}\\
\end{recipedef}
\paragraph{\hyperref[dataitem:n_dist_reduced]{\PROD{N_DIST_REDUCED}}}\label{drsstructure:N_DIST_REDUCED}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{??}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}    



%\clearpage
\paragraph{\hyperref[dataitem:lm_pupil_reduced]{\PROD{LM_PUPIL_REDUCED}}}\label{dataitem:lm_pupil_reduced}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_pupil_reduced]{\PROD{LM_PUPIL_REDUCED}}\\[0.3cm]
Description: & Reduced pupil image in LM mode. \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_PUPIL_REDUCED} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}}\\
\FITS{DO.CATG}: & \FITS{LM_PUPIL_REDUCED}\\[0.3cm]
% TODO: Is there a calibration recipe?
Input for recipe: & None \\
Produced by recipe: & \hyperref[rec:metis_pupil_imaging]{\REC{metis_pupil_imaging}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

%\clearpage
\paragraph{\hyperref[dataitem:n_pupil_reduced]{\PROD{N_PUPIL_REDUCED}}}\label{dataitem:n_pupil_reduced}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:n_pupil_reduced]{\PROD{N_PUPIL_REDUCED}}\\[0.3cm]
Description: & Reduced pupil image in N mode. \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{N_PUPIL_REDUCED} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}}\\
\FITS{DO.CATG}: & \FITS{N_PUPIL_REDUCED}\\[0.3cm]
% TODO: Is there a calibration recipe?
Input for recipe: & None \\
Produced by recipe: & \hyperref[rec:metis_pupil_imaging]{\REC{metis_pupil_imaging}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
%Data item structure: & see \ref{drsstructure:lmrsrfraw}\\
\end{recipedef}
%\paragraph{\hyperref[dataitem:lm_rsrf_raw]{\PROD{LM_RSRF_RAW}}}\label{drsstructure:LM_RSRF_RAW}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:dpr.catg]{\FITS{DPR.CATG}},  \hyperref[fits:dpr.tech]{\FITS{DPR.TECH}},  \hyperref[fits:dpr.type]{\FITS{DPR.TYPE}},  \hyperref[fits:ins.opti3.name]{\FITS{INS.OPTI3.NAME}},  \hyperref[fits:ins.opti9.name]{\FITS{INS.OPTI9.NAME}},  \hyperref[fits:ins.opti10.name]{\FITS{INS.OPTI10.NAME}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}



\paragraph{\hyperref[dataitem:fluxcal_tab]{\PROD{FLUXCAL_TAB}}}\label{dataitem:fluxcal_tab}
% TODO: FLUXCAL_TAB is wrong, it should be an image, see https://github.com/AstarVienna/METIS_DRLD/issues/87
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:fluxcal_tab]{\PROD{FLUXCAL_TAB}}\\[0.3cm]
Description: & Conversion between instrumental and physical flux units. \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{FLUXCAL_TAB} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}}\\
\FITS{DO.CATG}: & \FITS{FLUXCAL_TAB}\\[0.3cm]
Input for recipe: & None \\
Produced by recipe: & \hyperref[rec:metis_lm_img_std_process]{\REC{metis_lm_img_std_process}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}})}
    \item \texttt{hdrl\_table * table: table}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:lm_std_combined]{\PROD{LM_STD_COMBINED}}}\label{dataitem:lm_std_combined}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:lm_std_combined]{\PROD{LM_STD_COMBINED}}\\[0.3cm]
Description: & Stacked LM band exposures. \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{LM_STD_COMBINED} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}}\\
\FITS{DO.CATG}: & \FITS{LM_STD_COMBINED}\\[0.3cm]
Input for recipe: & None \\
Produced by recipe: & \hyperref[rec:metis_lm_img_std_process]{\REC{metis_lm_img_std_process}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}})}
    \item \texttt{hdrl\_image * image: Single image}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

\paragraph{\hyperref[dataitem:pinhole_table]{\EXTCALIB{PINHOLE_TABLE}}}\label{dataitem:pinhole_table}
\begin{recipedef}
\textbf{\ac{FITS} file structure:}\\
Name: & \hyperref[dataitem:pinhole_table]{\EXTCALIB{PINHOLE_TABLE}}\\[0.3cm]
Description: & Table of pinhole locations. \\[0.3cm]
\hyperref[fits:pro.catg]{\FITS{PRO.CATG}}: & \FITS{PINHOLE_TABLE} \\[0.3cm]
OCA keywords: & \hyperref[fits:pro.catg]{\FITS{PRO.CATG}}\\
\FITS{DO.CATG}: & \FITS{PINHOLE_TABLE}\\[0.3cm]
% TODO: Source
Used in recipes: & \hyperref[rec:metis_lm_img_distortion]{\REC{metis_lm_img_distortion}}\\
                 & \hyperref[rec:metis_n_img_distortion]{\REC{metis_n_img_distortion}}\\
Processing \ac{FITS} Keywords: & provided at \ac{PAE}\\
\end{recipedef}
\begin{datastructdef}
\textbf{Corresponding \ac{CPL} structure:}
\begin{enumerate}
    \item \texttt{cpl\_propertylist * keywords: Primary keywords (\hyperref[fits:pro.catg]{\FITS{PRO.CATG}})}
    \item \texttt{hdrl\_table * image: table with pinhole locations}
    \item \texttt{cpl\_propertylist * plistarray[]: Extension keywords}
\end{enumerate}
\end{datastructdef}

